# ===================================================================
#                      ОСНОВНЫЕ СЕКРЕТЫ И КЛЮЧИ
# ===================================================================

# Токен вашего Telegram-бота, полученный от @BotFather
TELEGRAM_BOT_TOKEN=""

# API ключ(и) от Google AI Studio для доступа к моделям Gemini.
# Можно указать несколько ключей через запятую без пробелов для ротации.
# https://aistudio.google.com/app/apikey
GEMINI_API_KEY="AIzaSy...key1,AIzaSy...key2,AIzaSy...key3"

# API-ключ и Folder ID от Yandex Cloud для сервиса YandexGPT (используется для эмбеддингов)
# https://cloud.yandex.ru/docs/iam/operations/api-key/create
# https://cloud.yandex.ru/docs/resource-manager/operations/folder/get-id
YC_API_KEY=""
YC_FOLDER_ID=""

# ===================================================================
#                     ИДЕНТИФИКАТОРЫ И ДОСТУП
# ===================================================================

# ID вашего аккаунта в Telegram. Используется для предоставления прав администратора бота.
# Узнать свой ID можно у @userinfobot
ADMIN_USER_ID=""

# (ОПЦИОНАЛЬНО) ID целевого чата. Если указан, бот будет работать только в этом чате.
# Узнать ID чата можно, добавив в него бота и написав команду /chatid
TARGET_CHAT_ID=""

# ===================================================================
#                 НАСТРОЙКИ МОДЕЛЕЙ И ПАМЯТИ
# ===================================================================

# Названия моделей Gemini для разных задач
GEMINI_CHAT_MODEL_NAME="gemini-2.5-flash-preview-05-20"
GEMINI_ANALYSIS_MODEL_NAME="gemini-2.5-flash-preview-05-20"

# Названия моделей Yandex GPT для эмбеддингов (обычно не требуют изменений)
YC_MODEL_EMBEDDING_DOC="text-search-doc"
YC_MODEL_EMBEDDING_QUERY="text-search-query"

# Максимальное количество сообщений в краткосрочной памяти (STM)
SHORT_TERM_MEMORY_MAX_LENGTH=50

# ===================================================================
#        ПОРОГИ И ЛИМИТЫ ДЛЯ ЛОГИКИ ИЗВЛЕЧЕНИЯ ФАКТОВ И ЭМОЦИЙ
# ===================================================================

# Лимит запросов на один API-ключ Gemini перед переключением на следующий
GEMINI_API_KEY_USAGE_LIMIT=450

# Сколько сообщений от пользователя должно накопиться, чтобы запустить извлечение фактов
USER_MESSAGES_THRESHOLD_FOR_FACT_EXTRACTION=10
# Сколько последних сообщений из STM анализировать на наличие фактов
CONVERSATION_CHUNK_SIZE_FOR_FACT_ANALYSIS=15

# Сколько сообщений от пользователя должно накопиться для запуска эмоционального анализа
EMOTIONAL_ANALYSIS_MESSAGE_THRESHOLD=8
# Сколько последних сообщений из STM анализировать для оценки эмоций
EMOTIONAL_ANALYSIS_STM_WINDOW_SIZE=18

# Сколько "сырых" эмоциональных заметок должно накопиться для запуска их консолидации
EMOTIONAL_NOTES_CONSOLIDATION_TRIGGER_COUNT=8
# Максимальное количество заметок, которое останется после консолидации
MAX_CONSOLIDATED_EMOTIONAL_NOTES=4

# ===================================================================
#          НАСТРОЙКИ ДОЛГОСРОЧНОЙ ПАМЯТИ (LTM) И ЕЕ ОБСЛУЖИВАНИЯ
# ===================================================================

# Максимальное косинусное расстояние для поиска фактов. Чем больше, тем менее строгий поиск. (0.0 - 2.0)
LTM_MAX_RELEVANT_DISTANCE=1.45

# Коэффициент "затухания" важности факта за каждый период неиспользования (см. ниже)
LTM_IMPORTANCE_DECAY_FACTOR=0.02

# Минимальная важность, при которой факт сохраняется, даже если он старый и неиспользуемый
LTM_MIN_IMPORTANCE_FOR_RETENTION=0.5

# Через сколько дней неиспользования к факту применяется коэффициент затухания важности
LTM_DAYS_FOR_IMPORTANCE_DECAY=14